<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ðŸ”« Armurerie</title>
  <link rel="stylesheet" href="styles.css" />
</head>
<body id="armes" style="background:#181818;">
  <div class="topbar">
    <a class="back" href="index.html">â¬… Retour</a>
    <h1>ðŸ”« Armurerie</h1>
  </div>

  <div class="table-wrapper">
    <table id="table-armes">
      <thead>
        <tr>
          <th>Image</th>
          <th>Nom</th>
          <th>Prix</th>
          <th>DÃ©gÃ¢ts</th>
          <th>Description</th>
          <th>QtÃ© max</th>
        </tr>
      </thead>
      <tbody></tbody>
    </table>
  </div>

  <script>
    // Liste d'armes (donnÃ©es identiques Ã  avant)
    const ARMES = [
      { nom: "Baseball Bat", prix: "25k-29k", degats: "20", description: "10 coups avant recharge. Ã‰tourdit briÃ¨vement et repousse fortement. La poussÃ©e inflige gÃ©nÃ©ralement 25 dÃ©gÃ¢ts. Avec un coup inclinÃ© vers le bas on assure 25-50 dÃ©gÃ¢ts.", max: 1 },
      { nom: "Frying Pan", prix: "17k-30k", degats: "18", description: "15 coups avant recharge. Inflige des dÃ©gÃ¢ts et peut faire tomber les petits ennemis ou joueurs.", max: 1 },
      { nom: "Sledge Hammer", prix: "40k-47k", degats: "150", description: "10 coups avant recharge. Arme lourde. Peut pousser les gros ou ennemis Ã©tourdis hors des rebords.", max: 1 },
      { nom: "Sword", prix: "20k-30k", degats: "50", description: "15 coups avant recharge. Arme rapide. N'Ã©tourdit aucun ennemi.", max: 1 },
      { nom: "Inflatable Hammer", prix: "9k-18k", degats: "5 ou 250", description: "20 coups avant recharge. ~5 % de chance d'exploser et d'infliger 250 dÃ©gÃ¢ts.", max: 1 },
      { nom: "Prodzap", prix: "â‰ˆ30k", degats: "8 (4Ã—2)", description: "Matraque futuriste. Inflige 8 dÃ©gÃ¢ts et Ã©tourdit 3 s. 16 coups avant recharge.", max: 1 },
      { nom: "Gun", prix: "19k-20k", degats: "80 (monstre) / 100 (joueur)", description: "Projectile Ã  dÃ©gÃ¢ts moyens. 15 tirs avant recharge.", max: 1 },
      { nom: "Shotgun", prix: "39k-48k", degats: "300 (6Ã—50)", description: "Salve Ã  fort dÃ©gÃ¢ts (50 par plomb). 5 tirs avant recharge.", max: 1 },
      { nom: "Tranq Gun", prix: "15k-18k", degats: "0 + Ã©tourdit 18 s", description: "8 tirs avant recharge.", max: 1 },
      { nom: "Pulse Pistol", prix: "15k-18k", degats: "25 + gros knock-back", description: "12 tirs avant recharge.", max: 1 },
      { nom: "Photon Blaster", prix: "39k-48k", degats: "270 (45Ã—6) / 100", description: "Rayon continu, 45 dÃ©gÃ¢ts par tick (270 max). 5 tirs avant recharge.", max: 1 },
      { nom: "Boltzap", prix: "15k-18k", degats: "8 (4Ã—2) + Ã©tourdit 1,5 s", description: "20 tirs avant recharge.", max: 1 },
      { nom: "C.A.R.T. Cannon", prix: "39k-48k", degats: "500 / 50", description: "Boulet explosif aprÃ¨s un court chargement. 5 tirs avant recharge.", max: 1 },
      { nom: "C.A.R.T. Laser", prix: "39k-48k", degats: "800 / 200", description: "Laser jaune, 100 dÃ©gÃ¢ts par tick (800 max). 5 tirs avant recharge.", max: 1 },
      { nom: "Grenade", prix: "3k", degats: "160 / 75", description: "Petite explosion (10 m) qui blesse les monstres proches.", max: 3 },
      { nom: "Shockwave Grenade", prix: "2k", degats: "0", description: "Onde de choc (30 m) repoussant les monstres. Peut infliger des dÃ©gÃ¢ts de chute.", max: 3 },
      { nom: "Stun Grenade", prix: "2k", degats: "0", description: "Flash qui Ã©tourdit jusqu'Ã  15 s (inefficace sur Peeper).", max: 2 },
      { nom: "Human Grenade", prix: "2k", degats: "100 / 50", description: "Explosion (10 m) touchant monstres et joueurs. ApparaÃ®t dans une niche au plafond.", max: 3 },
      { nom: "Duct Taped Grenade", prix: "2k", degats: "400 (100Ã—4) / 50Ã—4", description: "Explosion initiale puis projette 3 human grenades rÃ©cupÃ©rables. Disparaissent en fin de manche.", max: 3 },
      { nom: "Shockwave Mine", prix: "3k", degats: "25 (collision)", description: "Posable. Armement 5 s. Ã‰tourdit dans 30 m.", max: 3 },
      { nom: "Trapzap", prix: "3k", degats: "0-5 / 3", description: "Mine Ã©lectrique volante aprÃ¨s dÃ©clenchement, Ã©tourdit. Peut infliger 5 dÃ©gÃ¢ts.", max: 3 },
      { nom: "Explosive Mine", prix: "3k", degats: "200 / 75", description: "Mine explosive. Armement 5 s. Rayon 20 m.", max: 3 },
      { nom: "Rubber Duck", prix: "16k-20k", degats: "50 (impact) ou 250 (explosion)", description: "Canard rebondissant (10 % d'explosion Ã  250 dÃ©gÃ¢ts). 50 dÃ©gÃ¢ts si vitesse suffisante.", max: 1 }
    ];

    const tbody = document.querySelector('#table-armes tbody');

    ARMES.forEach(w => {
      const tr = document.createElement('tr');
      // Remplacement : chaque point suivi d'un espace â†’ <br>
      const descHtml = w.description.replace(/\.\s+/g, '.<br>');
      const imgPath = `img/${w.nom.toLowerCase()
        .replace(/[^a-z0-9]+/g, '_')   // remplace tout sauf lettres/chiffres par _
        .replace(/_+/g, '_')           // compresse plusieurs _ en un seul
        .replace(/^_|_$/g, '')         // enlÃ¨ve _ au dÃ©but / Ã  la fin
      }.webp`;

      tr.innerHTML = `
        <td><img class="icon" src="${imgPath}" alt="${w.nom}"></td>
        <td>${w.nom}</td>
        <td>${w.prix}</td>
        <td>${w.degats}</td>
        <td>${descHtml}</td>
        <td>${w.max}</td>
      `;
      tbody.appendChild(tr);
    });
  </script>
</body>
</html>